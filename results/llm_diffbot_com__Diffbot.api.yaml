{"openapi":"3.0.2","info":{"title":"API for Diffbot's Knowledge Graph","description":"Search and find facts of organizations and people from Diffbot Knowledge Graph, and extract information from the Web using Diffbot API.","version":"0.1"},"servers":[{"url":"https://llm.diffbot.com"}],"paths":{"/chatgpt/v1/extract":{"get":{"tags":["chatgpt"],"summary":"Extract","description":"Extract the content from a given URL. Only call this endpoint if the user mentioned a URL.","operationId":"extraction_plugin_api_v1","parameters":[{"description":"URL of a web page.","required":true,"schema":{"title":"Page Url","type":"string","description":"URL of a web page."},"name":"page_url","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatgpt/v1/enhance":{"post":{"tags":["chatgpt"],"summary":"Enhance","description":"Called when asked for information of Person or Organization. Must include name and type. Fill in location, url, job title and employer for Person, and homepage and location for Organization.","operationId":"enhance_plugin_api_v1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhanceRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatgpt/v1/text2dql":{"get":{"tags":["chatgpt"],"summary":"Text2Dql","description":"Accept the type of entities (Person or Organizatin) the query is looking for, and construct an instruction for the next step.","operationId":"text2dql_plugin_api_v1","parameters":[{"description":"Query text from the user.","required":true,"schema":{"title":"Query","type":"string","description":"Query text from the user."},"name":"query","in":"query"},{"description":"Entity type: Organization, Person","required":true,"schema":{"title":"Type","type":"string","description":"Entity type: Organization, Person"},"name":"type","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Text2Dql Plugin Api V1","type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatgpt/v1/dql":{"get":{"tags":["chatgpt"],"summary":"Dql","description":"Retrieve data about person or organization. Input includes both query and dql_query.","operationId":"dql_plugin_api_v1","parameters":[{"description":"Query text from the user (the one passed to text2dql).","required":true,"schema":{"title":"Query","type":"string","description":"Query text from the user (the one passed to text2dql)."},"name":"query","in":"query"},{"description":"Diffbot Query Language translated from the query text.","required":true,"schema":{"title":"Dql Query","type":"string","description":"Diffbot Query Language translated from the query text."},"name":"dql_query","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatgpt/v1/search":{"get":{"tags":["chatgpt"],"summary":"Search","description":"Search the Web to answer questions. Only call this endpoint if none of the above endpoints is suitable.","operationId":"search_plugin_api_v1","parameters":[{"description":"Search text from the user.","required":true,"schema":{"title":"Text","type":"string","description":"Search text from the user."},"name":"text","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"EnhanceRequest":{"title":"EnhanceRequest","required":["type","name"],"type":"object","properties":{"type":{"title":"Type","type":"string","description":"Entity type: Organization, Person"},"name":{"title":"Name","type":"string","description":"Name of the entity, required for all types."},"url":{"title":"Url","type":"string","description":"URI of the entity, for both Person and Organization."},"location":{"title":"Location","type":"string","description":"Location of the entity, for both Person and Organization."},"employer":{"title":"Employer","type":"string","description":"Employer of a person. for Person only."},"title":{"title":"Title","type":"string","description":"Job title of a person, for Person only."},"extra_fields":{"title":"Extra Fields","anyOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}],"description":"A list of fields as listed: ceo, founders, customers, competitors, partnerships, suppliers, subsidiaries, boardMembers, investments, revenue. For Organization only. For fields not in the list, try map them to the fields in the list, otherwise ignore them."}}},"EnhanceResponse":{"title":"EnhanceResponse","required":["type"],"type":"object","properties":{"type":{"title":"Type","type":"string","description":"Entity type: Organization, Person"},"entity":{"title":"Entity"},"articles":{"title":"Articles"}}},"ExtractionResponse":{"title":"ExtractionResponse","type":"object","properties":{"type":{"title":"Type","type":"string"},"url":{"title":"Url","type":"string"},"title":{"title":"Title","type":"string"},"data":{"title":"Data"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"QueryResponse":{"title":"QueryResponse","type":"object","properties":{"dql":{"title":"Dql","type":"string"},"hits":{"title":"Hits","type":"integer"},"data":{"title":"Data"},"articles":{"title":"Articles"},"instruction":{"title":"Instruction","type":"string"}}},"SearchResponse":{"title":"SearchResponse","type":"object","properties":{"query":{"title":"Query","type":"string"},"data":{"title":"Data"},"instuction":{"title":"Instuction","type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}