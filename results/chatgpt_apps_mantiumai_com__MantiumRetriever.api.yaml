components:
  schemas:
    ChatGPTPluginApplicationListResponse:
      description: A response object containing a list of available applications created
        by the user in Mantium, including their unique identifiers, names, and descriptions.
      properties:
        applications:
          items:
            $ref: '#/components/schemas/ChatGPTPluginApplicationResponse'
          title: Applications
          type: array
      required:
      - applications
      title: ChatGPTPluginApplicationListResponse
      type: object
    ChatGPTPluginApplicationResponse:
      description: Subset of Application information used by the ChatGPT plugin.
      properties:
        description:
          description: A detailed description of the application's purpose and functionality,
            such as a Notion retriever.
          title: Description
          type: string
        id:
          description: The unique identifier of the application, which can be used
            by ChatGPT to send a POST request to Mantium with the most relevant AppID
            based on the user query.
          title: Id
          type: string
        name:
          description: The name of the application, providing a brief overview of
            its purpose.
          title: Name
          type: string
      required:
      - id
      - name
      - description
      title: ChatGPTPluginApplicationResponse
      type: object
    ChatGPTPluginQueryRequest:
      description: Request for querying applications.
      properties:
        application_id:
          description: The ID of the application to query.
          title: Application Id
          type: string
        query:
          description: The query submitted by the user.
          title: Query
          type: string
      required:
      - query
      - application_id
      title: ChatGPTPluginQueryRequest
      type: object
    ChatGPTPluginResponseSaveRequest:
      description: Response from ChatGPT that a user has requested to save
      properties:
        application_id:
          description: The ID of the application for which the response is saved.
          title: Application Id
          type: string
        file_name:
          description: Name of the file which is generated by ChatGPT and in which
            the response will be saved. The file name is a summary of the response
            and should contain a maximum of twenty characters. Each word should be
            separated by an underscore, and it should end with .txt file extension.
          title: File Name
          type: string
        response:
          description: The response generated by ChatGPT.
          title: Response
          type: string
      required:
      - application_id
      - response
      - file_name
      title: ChatGPTPluginResponseSaveRequest
      type: object
    ChatGPTPluginResponseSaveResponse:
      description: Response from ChatGPT's request to save a response.
      properties:
        message:
          description: A message describing the result of the save operation.
          title: Message
          type: string
        success:
          description: Whether or not the response was successfully saved.
          title: Success
          type: boolean
      required:
      - success
      - message
      title: ChatGPTPluginResponseSaveResponse
      type: object
    DocumentChunkWithScore:
      description: Document chunk with a score
      properties:
        metadata:
          $ref: '#/components/schemas/DocumentMetadata'
        score:
          title: Score
          type: number
        text:
          title: Text
          type: string
      required:
      - text
      - metadata
      - score
      title: DocumentChunkWithScore
      type: object
    DocumentMetadata:
      description: Model for a single document's metadata
      properties:
        author:
          title: Author
          type: string
        created_at:
          title: Created At
          type: string
        title:
          title: Title
          type: string
        url:
          title: Url
          type: string
      title: DocumentMetadata
      type: object
    ErrorResponse:
      description: Error response.
      properties:
        error:
          description: Error message
          title: Error
          type: string
      required:
      - error
      title: ErrorResponse
      type: object
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          title: Detail
          type: array
      title: HTTPValidationError
      type: object
    QueryResponse:
      description: List of resultant queries
      properties:
        results:
          items:
            $ref: '#/components/schemas/QueryResult'
          title: Results
          type: array
      required:
      - results
      title: QueryResponse
      type: object
    QueryResult:
      description: Model for a query result
      properties:
        query:
          title: Query
          type: string
        results:
          items:
            $ref: '#/components/schemas/DocumentChunkWithScore'
          title: Results
          type: array
      required:
      - query
      - results
      title: QueryResult
      type: object
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          title: Location
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
      - loc
      - msg
      - type
      title: ValidationError
      type: object
info:
  description: This plugin interacts with Mantium to retrieve a list of available
    user-created applications. It returns the application's unique identifier, name,
    and description, which can be used by ChatGPT to send a POST request to Mantium
    with the most relevant AppID based on the user query.
  title: Mantium Retriever Plugin for ChatGPT
  version: 1.0.732
openapi: 3.0.2
paths:
  /chatgpt-plugin/applications:
    get:
      description: On receiving a query, first fetch a list of user-created applications
        in Mantium, including their unique IDs, names, and descriptions. ChatGPT uses
        this data to send a POST request to the /query endpoint with the most suitable
        application ID based on the user's query.
      operationId: chatgpt_plugin_applications
      parameters:
      - in: query
        name: optional
        required: false
        schema:
          default: false
          title: Optional
          type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatGPTPluginApplicationListResponse'
          description: Successfully retrieved the list of applications.
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
        '500':
          content:
            application/json:
              example:
                error: 'Error in processing the request: error message'
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
      summary: Retrieve Available Applications
      tags:
      - chatgpt-plugin
  /chatgpt-plugin/query:
    post:
      description: Only use this endpoint after retrieving the list of available applications
        from the /applications endpoint. Select the appropriate application based
        on application description and user query. Send the query string and the application
        ID to retrieve relevant documents.
      operationId: chatgpt_plugin_query
      parameters:
      - in: query
        name: optional
        required: false
        schema:
          default: false
          title: Optional
          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChatGPTPluginQueryRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryResponse'
          description: Successfully retrieved the list of documents.
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
        '500':
          content:
            application/json:
              example:
                error: 'Error in processing the request: error message'
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
      summary: Query
      tags:
      - chatgpt-plugin
  /chatgpt-plugin/save:
    post:
      description: Only use this endpoint if the user requests to save a response.
        Create a name for the file with a maximum of 20 characters and a .txt extension.
        Send the application ID, response, and the file name to save the response.
      operationId: chatgpt_plugin_save
      parameters:
      - in: query
        name: optional
        required: false
        schema:
          default: false
          title: Optional
          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChatGPTPluginResponseSaveRequest'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatGPTPluginResponseSaveResponse'
          description: Successfully saved the response.
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
        '500':
          content:
            application/json:
              example:
                error: 'Error in processing the request: error message'
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
      summary: Save Response
      tags:
      - chatgpt-plugin
