openapi: 3.0.1
info:
  title: CoderPad Plugin
  description: A plugin that allows the user to hack on and execute code generated by ChatGPT.
  version: 'v1'
servers:
  - url: https://app.coderpad.io/
paths:
  /api/snippets/script:
    post:
      operationId: createScriptSnippet
      summary: Loads the specified code into a CoderPad sandbox so the user can make their own changes and execute code
      requestBody:
        description: The details of the snippet
        content: 
          application/json:
            schema:
              $ref: '#/components/schemas/createScriptSnippetRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createScriptSnippetResponse'
components:
  schemas:
    createScriptSnippetRequest:
      type: object
      properties:
        title:
          type: string
          description: The title of the snippet
        description:
          type: string
          description: The description of the snippet, including the details of how the code works and what it is useful for
        language: 
          type: string
          description: The language that the code is written in
          default: plaintext
          enum: [ 
            "bash",
            "c",
            "clojure",
            "coffeescript",
            "cpp",
            "csharp",
            "dart",
            "elixir",
            "erlang",
            "fsharp",
            "go",
            "haskell",
            "html",
            "java",
            "javascript",
            "julia",
            "kotlin",
            "lua",
            "markdown",
            "mysql",
            "objc",
            "ocaml",
            "perl",
            "php",
            "plaintext",
            "postgresql",
            "python",
            "python3",
            "r",
            "ruby",
            "rust",
            "scala",
            "solidity",
            "swift",
            "tcl",
            "typescript",
            "vb",
            "verilog"
          ]
        code:
          type: string
          description: The generated code, condensed into a string with line breaks represented by "\n"
    createScriptSnippetResponse:
      type: object
      properties:
        url:
          type: string
          description: The URL where a user can access their snippet in a sandbox.